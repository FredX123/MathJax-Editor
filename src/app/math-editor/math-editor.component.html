<!-- Preview Area -->
<div class="container mt-3">
  <!-- Preview -->
  <div class="row">
    <div class="col-12">
      <div class="preview">
        <div #output id="output" [appMathJax]="renderedContent" class="p-3"></div>
      </div>
    </div>
  </div>
</div>

<!-- Editor Area -->
<div class="container editor-container">
  <!-- Mode Selector -->
  <div class="row mb-3">
    <div class="col-12">
      <div class="btn-group" role="group" aria-label="Math input mode">
        <button
          type="button"
          class="btn btn-outline-secondary"
          *ngFor="let mode of modes"
          [class.active]="paletteMode === mode.key"
          [attr.aria-pressed]="paletteMode === mode.key"
          (click)="setMode(mode.key)"
        >
          {{ mode.label }}
        </button>
      </div>
    </div>
  </div>

  <!-- Math Symbol Tabs -->
  <div class="row">
    <div class="col-12">
      <app-math-symbols [mode]="paletteMode" (symbolInserted)="insertSymbol($event)"></app-math-symbols>
    </div>
  </div>

  <!-- Math Editor Form -->
  <div class="row">
    <div class="col-12">
      <form [formGroup]="mathForm">
        <div class="mb-3">
          <textarea
            #editor
            formControlName="editorContent"
            class="form-control editor"
            placeholder="Type your math expression here..."
          ></textarea>
        </div>
      </form>
    </div>
  </div>
</div>
